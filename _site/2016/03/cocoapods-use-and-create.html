<!DOCTYPE html>
<html class="t-purple">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>cocoapods use and create</title>
  <meta name="description" content="Installsudo gem install cocoapods">

  <link href='https://fonts.googleapis.com/css?family=Roboto:400,400italic,700|Roboto+Mono:400,500' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://www.zhangxiaolian.com/2016/03/cocoapods-use-and-create">
  <link rel="alternate" type="application/rss+xml" title="张晓连的Blog" href="http://www.zhangxiaolian.com/feed.xml">
</head>

  <body>
    <nav class="c-navigation is-fixed">
  <div class="c-navigation__container u-container">
    <a class="c-navigation__item " href="/">Home</a>
    <a class="c-navigation__item " href="/articles/">Articles</a>
    <a class="c-navigation__item " href="/about/">About</a>
  </div>
</nav>


    <article class="c-article">
  <header class="c-header c-article__header">
    <div class="u-container">
      <h1 class="c-header__title">cocoapods use and create</h1>
    </div>
  </header>

  <div class="c-article__main">
    <h3 id="install">Install</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo gem install cocoapods
</code></pre>
</div>

<h3 id="init">Init</h3>
<p>Enter project directory</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pod init
</code></pre>
</div>

<p>find Podfile，enter</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">platform</span> <span class="ss">:ios</span><span class="p">,</span> <span class="s1">'8.0'</span>
    <span class="n">use_frameworks!</span>

    <span class="n">target</span> <span class="s1">'MyApp'</span> <span class="k">do</span>
      <span class="n">pod</span> <span class="s1">'AFNetworking'</span><span class="p">,</span> <span class="s1">'~&gt; 2.6'</span>
      <span class="n">pod</span> <span class="s1">'ORStackView'</span><span class="p">,</span> <span class="s1">'~&gt; 3.0'</span>
      <span class="n">pod</span> <span class="s1">'SwiftyJSON'</span><span class="p">,</span> <span class="s1">'~&gt; 2.3'</span>
    <span class="k">end</span>
    </code></pre></figure>

<p>Enter project directory</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">pod</span> <span class="n">install</span>
    </code></pre></figure>

<p>then</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="err">$</span> <span class="nb">open</span> <span class="no">App</span><span class="p">.</span><span class="nf">xcworkspace</span>
    </code></pre></figure>

<p>import</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="c1">#import &lt;Reachability/Reachability.h&gt;</span>
    </code></pre></figure>

<h1 id="publish-cocoapod">Publish cocoapod</h1>

<h3 id="create-the-project">1、Create the Project</h3>
<p>under your work directory（demo as <strong>BlinkingLabel</strong> )</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">pod</span> <span class="n">lib</span> <span class="n">create</span> <span class="no">BlinkingLabel</span>
    </code></pre></figure>

<p>need answer some question</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">language</span> <span class="n">choose</span> <span class="n">swift</span> 
    <span class="n">demo</span> <span class="n">app</span> <span class="n">choose</span> <span class="no">YES</span>
    </code></pre></figure>

<h3 id="updating-your-pods-metadata">2、Updating Your Pod’s Metadata</h3>

<p>three file</p>

<ul>
  <li><strong>.podspec</strong>: version，author，homepage</li>
  <li><strong>README</strong>: some introduce of you project</li>
  <li><strong>LICENSE</strong>:MIT</li>
</ul>

<p>under  <strong>BlinkingLabel/Podspec Metadata/BlinkingLabel.podspec</strong> find  <strong>.podspec</strong> 。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">pod</span> <span class="n">lib</span> <span class="n">lint</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span>
    </code></pre></figure>

<p>check <strong>.podspec</strong>，will warning</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">&gt;</span> <span class="n">pod</span> <span class="n">lib</span> <span class="n">lint</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span>
    
    <span class="o">-&gt;</span> <span class="no">BlinkingLabel</span> <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
    <span class="o">-</span> <span class="no">WARN</span>  <span class="o">|</span> <span class="no">The</span> <span class="n">summary</span> <span class="n">is</span> <span class="n">not</span> <span class="n">meaningful</span><span class="p">.</span>
    <span class="nf">-</span> <span class="no">WARN</span>  <span class="o">|</span> <span class="no">The</span> <span class="n">description</span> <span class="n">is</span> <span class="n">not</span> <span class="n">meaningful</span><span class="p">.</span>
    <span class="nf">-</span> <span class="no">WARN</span>  <span class="o">|</span> <span class="no">There</span> <span class="n">was</span> <span class="n">a</span> <span class="n">problem</span> <span class="n">validating</span> <span class="n">the</span> <span class="no">URL</span>      <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="nf">com</span><span class="o">/&lt;</span><span class="no">GITHUB_USERNAME</span><span class="o">&gt;</span><span class="sr">/BlinkingLabel.
 
    [!] BlinkingLabel did not pass validation.
        You can use the `--no-clean` option to inspect   any issue.
    </span></code></pre></figure>

<p>some recommend value</p>

<ul>
  <li><strong>s.summary:</strong> A subclass on UILabel that provides a blink.</li>
  <li><strong>s.description:</strong> This CocoaPod provides the ability to use a UILabel that may be started and stopped blinking.</li>
  <li><strong>s.homepage:</strong> https://github.com/obuseme/BlinkingLabel (replace obuseme with your GitHub username)</li>
</ul>

<p>but  no github repo，goto github new <strong>Repository</strong> call <strong>BlinkingLabel</strong></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">git</span> <span class="n">add</span> <span class="p">.</span>
    <span class="nf">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">"Initial Commit"</span>
    <span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span>  <span class="o">&lt;</span><span class="no">GITHUB_USERNAME</span><span class="o">&gt;</span><span class="sr">/BlinkingLabel.git /</span><span class="o">/</span> <span class="n">replace</span> <span class="o">&lt;</span><span class="no">GITHUB_USERNAME</span><span class="o">&gt;</span> <span class="n">with</span> <span class="n">your</span> <span class="n">github</span><span class="p">.</span><span class="nf">com</span> <span class="n">username</span>
    <span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>
    </code></pre></figure>

<p>execute</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">pod</span> <span class="n">lib</span> <span class="n">lint</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span>
    </code></pre></figure>

<p>output</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">&gt;</span> <span class="n">pod</span> <span class="n">lib</span> <span class="n">lint</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span>                                
 
    <span class="o">-&gt;</span> <span class="no">BlinkingLabel</span> <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
 
    <span class="no">BlinkingLabel</span> <span class="n">passed</span> <span class="n">validation</span><span class="o">.</span>
    </code></pre></figure>

<h3 id="add-code">3、Add code</h3>
<p>under  <strong>Pods/Development Pods/BlinkingLabel/Pod/Classes/</strong> delete <strong>ReplaceMe.swift</strong> ,create <strong>BlinkingLabel.swift</strong>, input</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="kp">public</span> <span class="k">class</span> <span class="nc">BlinkingLabel</span> <span class="p">:</span> <span class="no">UILabel</span> <span class="p">{</span>
    <span class="kp">public</span> <span class="n">func</span> <span class="n">startBlinking</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">let</span> <span class="n">options</span> <span class="p">:</span> <span class="no">UIViewAnimationOptions</span> <span class="o">=</span> <span class="err">［</span><span class="o">.</span><span class="no">Repeat</span><span class="p">,</span><span class="o">.</span><span class="no">Autoreverse</span><span class="p">]</span>
        <span class="no">UIView</span><span class="p">.</span><span class="nf">animateWithDuration</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="n">delay</span><span class="p">:</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">options</span><span class="ss">:options</span><span class="p">,</span> <span class="ss">animations: </span><span class="p">{</span>
            <span class="nb">self</span><span class="p">.</span><span class="nf">alpha</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="p">},</span> <span class="ss">completion: </span><span class="kp">nil</span><span class="p">)</span>
    <span class="p">}</span>
 
    <span class="kp">public</span> <span class="n">func</span> <span class="n">stopBlinking</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">layer</span><span class="p">.</span><span class="nf">removeAllAnimations</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></figure>

<p>open <strong>BlinkingLabel/Example for BlinkingLabel/ViewController.swift</strong> ,input</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">import</span> <span class="no">UIKit</span>
    <span class="n">import</span> <span class="no">BlinkingLabel</span>
 
    <span class="k">class</span> <span class="nc">ViewController</span><span class="p">:</span> <span class="no">UIViewController</span> <span class="p">{</span>
 
    <span class="n">var</span> <span class="n">isBlinking</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="n">let</span> <span class="n">blinkingLabel</span> <span class="o">=</span> <span class="no">BlinkingLabel</span><span class="p">(</span><span class="ss">frame: </span><span class="no">CGRectMake</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
 
    <span class="n">override</span> <span class="n">func</span> <span class="n">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
 
        <span class="sr">//</span> <span class="no">Setup</span> <span class="n">the</span> <span class="no">BlinkingLabel</span>
        <span class="n">blinkingLabel</span><span class="p">.</span><span class="nf">text</span> <span class="o">=</span> <span class="s2">"I blink!"</span>
        <span class="n">blinkingLabel</span><span class="p">.</span><span class="nf">font</span> <span class="o">=</span> <span class="no">UIFont</span><span class="p">.</span><span class="nf">systemFontOfSize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">view</span><span class="p">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">blinkingLabel</span><span class="p">)</span>
        <span class="n">blinkingLabel</span><span class="p">.</span><span class="nf">startBlinking</span><span class="p">()</span>
        <span class="n">isBlinking</span> <span class="o">=</span> <span class="kp">true</span>
 
        <span class="sr">//</span> <span class="no">Create</span> <span class="n">a</span> <span class="no">UIButton</span> <span class="n">to</span> <span class="n">toggle</span> <span class="n">the</span> <span class="n">blinking</span>
        <span class="n">let</span> <span class="n">toggleButton</span> <span class="o">=</span> <span class="no">UIButton</span><span class="p">(</span><span class="ss">frame: </span><span class="no">CGRectMake</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">toggleButton</span><span class="p">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s2">"Toggle Blinking"</span><span class="p">,</span> <span class="ss">forState: </span><span class="o">.</span><span class="no">Normal</span><span class="p">)</span>
        <span class="n">toggleButton</span><span class="p">.</span><span class="nf">setTitleColor</span><span class="p">(</span><span class="no">UIColor</span><span class="p">.</span><span class="nf">redColor</span><span class="p">(),</span> <span class="ss">forState: </span><span class="o">.</span><span class="no">Normal</span><span class="p">)</span>
        <span class="n">toggleButton</span><span class="p">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="ss">action: </span><span class="s2">"toggleBlinking"</span><span class="p">,</span> <span class="ss">forControlEvents: </span><span class="o">.</span><span class="no">TouchUpInside</span><span class="p">)</span>
        <span class="n">view</span><span class="p">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">toggleButton</span><span class="p">)</span>
    <span class="p">}</span>
 
    <span class="n">func</span> <span class="n">toggleBlinking</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">isBlinking</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">blinkingLabel</span><span class="p">.</span><span class="nf">stopBlinking</span><span class="p">()</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">blinkingLabel</span><span class="p">.</span><span class="nf">startBlinking</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="n">isBlinking</span> <span class="o">=</span> <span class="o">!</span><span class="n">isBlinking</span>
    <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></figure>

<p>enter Example， pod install</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">&gt;</span> <span class="n">cd</span> <span class="no">Example</span> 
    <span class="o">&gt;</span> <span class="n">pod</span> <span class="n">install</span>
    <span class="no">Analyzing</span> <span class="n">dependencies</span>
    <span class="no">Fetching</span> <span class="n">podspec</span> <span class="k">for</span> <span class="sb">`BlinkingLabel`</span> <span class="n">from</span> <span class="sb">`../`</span>
    <span class="no">Downloading</span> <span class="n">dependencies</span>
    <span class="no">Installing</span> <span class="no">BlinkingLabel</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="n">was</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
    <span class="no">Generating</span> <span class="no">Pods</span> <span class="n">project</span>
    <span class="no">Integrating</span> <span class="n">client</span> <span class="n">project</span> 
    </code></pre></figure>

<p>run Example project</p>

<h3 id="upload-pod">4、upload Pod</h3>

<h4 id="add-tag">1、Add Tag</h4>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">&gt;</span> <span class="n">git</span> <span class="n">tag</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
    <span class="o">&gt;</span> <span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
    <span class="no">Total</span> <span class="mi">0</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">0</span><span class="p">),</span> <span class="n">reused</span> <span class="mi">0</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">0</span><span class="p">)</span>
    <span class="no">To</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">github</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span><span class="n">obuseme</span><span class="o">/</span><span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">git</span>
    <span class="p">[</span><span class="kp">new</span> <span class="n">tag</span><span class="p">]</span>         <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span>
    </code></pre></figure>

<p>warning： Tag be same with s.version of .podspec</p>

<h4 id="valiate">2、valiate</h4>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">pod</span> <span class="n">spec</span> <span class="n">lint</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span>
    </code></pre></figure>

<p>output：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">      <span class="o">&gt;</span> <span class="n">pod</span> <span class="n">spec</span> <span class="n">lint</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span> 
     <span class="o">-&gt;</span> <span class="no">BlinkingLabel</span> <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
     <span class="no">Analyzed</span> <span class="mi">1</span> <span class="n">podspec</span><span class="o">.</span>
     <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span> <span class="n">passed</span> <span class="n">validation</span><span class="o">.</span>
     </code></pre></figure>

<h4 id="push-pod-to-specs-repository">3、push pod to <strong>Specs Repository</strong></h4>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">pod</span> <span class="n">trunk</span> <span class="n">push</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span>
    </code></pre></figure>

<p>output：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">     <span class="o">&gt;</span> <span class="n">pod</span> <span class="n">trunk</span> <span class="n">push</span> <span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span> 
     <span class="no">Updating</span> <span class="n">spec</span> <span class="n">repo</span> <span class="sb">`master`</span>
 
     <span class="no">Validating</span> <span class="n">podspec</span>
     <span class="o">-&gt;</span> <span class="no">BlinkingLabel</span> <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
 
    <span class="no">Updating</span> <span class="n">spec</span> <span class="n">repo</span> <span class="sb">`master`</span>
 
     <span class="o">-</span> <span class="no">Data</span> <span class="no">URL</span><span class="p">:</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">raw</span><span class="p">.</span><span class="nf">githubusercontent</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span><span class="no">CocoaPods</span><span class="o">/</span><span class="no">Specs</span><span class="o">/</span><span class="n">f7fb546c4b0f80cab93513fc228b274be6459ad2</span><span class="o">/</span><span class="no">Specs</span><span class="o">/</span><span class="no">BlinkingLabel</span><span class="o">/</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="no">BlinkingLabel</span><span class="p">.</span><span class="nf">podspec</span><span class="p">.</span><span class="nf">json</span>
     <span class="o">-</span> <span class="no">Log</span> <span class="ss">messages:
    </span><span class="o">-</span> <span class="no">June</span> <span class="mi">29</span><span class="n">th</span><span class="p">,</span> <span class="mi">20</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span> <span class="no">Push</span> <span class="k">for</span> <span class="sb">`BlinkingLabel 0.1.0' initiated.
    - June 29th, 20:40: Push for `</span><span class="no">BlinkingLabel</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="err">'</span> <span class="n">has</span> <span class="n">been</span> <span class="n">pushed</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="mi">701885099</span> <span class="n">s</span><span class="p">)</span><span class="o">.</span>
    </code></pre></figure>

<p>All done</p>



  </div>
</article>


    <footer class="c-footer">
  <div class="u-container c-footer__container">
    <p>&copy; 张晓连的Blog 2016</p>
    <p>
      <a href="https://twitter.com/SuricZhang">Twitter</a>
      <a href="https://github.com/zhangxiaolian1991">Github</a>
      
      
    </p>
  </div>
</footer>

  </body>
</html>
